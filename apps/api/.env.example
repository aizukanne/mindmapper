# ===========================================
# MindMapper API - Environment Configuration
# ===========================================
# Copy this file to .env.local for local overrides
# These values override the root .env file

# ===========================================
# Required Configuration
# ===========================================

# Database Connection (PostgreSQL)
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
DATABASE_URL="postgresql://mindmapper:mindmapper_dev@localhost:5432/mindmapper"

# ===========================================
# Server Configuration
# ===========================================

# Node environment: development | production | test
NODE_ENV="development"

# API server port
API_PORT=3001

# API server host
API_HOST="0.0.0.0"

# Frontend URL for CORS (comma-separated for multiple origins)
CORS_ORIGIN="http://localhost:5173"

# Frontend URL for share links and redirects
FRONTEND_URL="http://localhost:5173"

# ===========================================
# Redis Configuration (Optional)
# ===========================================
# Used for caching and session management
# App works without Redis in development

REDIS_URL="redis://localhost:6379"

# ===========================================
# Authentication - Clerk (Optional)
# ===========================================
# Get your keys from https://dashboard.clerk.com
# Authentication is disabled if CLERK_SECRET_KEY is not set

CLERK_SECRET_KEY="sk_test_..."

# ===========================================
# Email Service - Resend (Optional)
# ===========================================
# Get your API key from https://resend.com
# Email features are disabled if not set

# RESEND_API_KEY="re_..."
# FROM_EMAIL="MindMapper <noreply@mindmapper.app>"
# APP_URL="http://localhost:5173"

# ===========================================
# Storage Configuration (Optional)
# ===========================================
# Provider: 'local' or 's3'
# Defaults to local storage

STORAGE_PROVIDER="local"

# Local Storage Settings
UPLOAD_DIR="./uploads"
PUBLIC_URL="http://localhost:3001/uploads"

# S3 Storage Settings (when STORAGE_PROVIDER='s3')
# S3_BUCKET=""
# S3_REGION="us-east-1"
# S3_ACCESS_KEY_ID=""
# S3_SECRET_ACCESS_KEY=""
# S3_ENDPOINT=""
# S3_FORCE_PATH_STYLE="false"

# ===========================================
# Photo Limits (Optional)
# ===========================================

MAX_PHOTOS_PER_MEMBER=100
MAX_PHOTOS_PER_TREE=1000
MAX_FILE_SIZE_MB=10

# ===========================================
# WebSocket Configuration (Yjs Collaboration)
# ===========================================

YJS_WEBSOCKET_PORT=1234
